// test_e230.cpp : Ce fichier contient la fonction 'main'. L'exécution du programme commence et se termine à cet endroit.
//

#define MAIN
#include <stdio.h>
// local version:
//#include "e230.h"
//#include "e_calc.hpp"
// in test directory version:
#include ".\..\..\src\e230.h"
#include ".\..\..\src\e_calc.hpp"

// data used to test the solution
char test_buf1[512] =
"F.F.0(00000000)\0"
"0.0.2(339648)\0"
"C.1.0(11860813)\0"
"C.1.1()\0"
"1.8.1(050967.571 * kWh)\0"
"1.8.2(031348.391 * kWh)\0"
"1.8.0(082315.962 * kWh)\0"
"2.8.1(000001.012 * kWh)\0"
"2.8.2(000001.608 * kWh)\0"
"2.8.0(000002.620 * kWh)\0"
"32.7.0(230)\0"
"52.7.0(229)\0"
"72.7.0(229)\0"
"31.7.0(005.52)\0"
"51.7.0(005.29)\0"
"71.7.0(006.20)\0"
"36.7.0(000.94)\0"
"56.7.0(000.94)\0"
"76.7.0(001.19)\0"
"33.7.0(0.76)\0"
"53.7.0(0.79)\0"
"73.7.0(0.84)\0"
"C.7.0(0016)\0"
"C.7.1(0055)\0"
"C.7.2(0057)\0"
"C.7.3(0062)\0"
"0.2.0(21 - 0 - 1)\0"
"C.5.0(0004E0F0)\0"
"C.90.1(11860813)\0"
"!\0"
;

char test_buf2[] =
"/ LGZ4ZMR120AC.K76\0"
"F.F.0(00000000)\0"
"0.0.2(978880)\0"
"C.1.0(30863358)\0"
"C.1.1()\0"
"1.8.1(000000.000 * kWh)\0"
"1.8.2(004281.837 * kWh)\0"
"1.8.0(004281.837 * kWh)\0"
"2.8.1(000000.000 * kWh)\0"
"2.8.2(014605.516 * kWh)\0"
"2.8.0(014605.516 * kWh)\0"
"32.7.0(238 * V)\0"
"52.7.0(236 * V)\0"
"72.7.0(237 * V)\0"
"31.7.0(000.67 * A)\0"
"51.7.0(000.86 * A)\0"
"71.7.0(000.99 * A)\0"
"36.7.0(000.09 * kW)\0"
"56.7.0(000.11 * kW)\0"
"76.7.0(000.07 * kW)\0"
"33.7.0(0.81)\0"
"53.7.0(0.57)\0"
"73.7.0(0.32)\0"
"C.7.0(0010)\0"
"C.7.1(0029)\0"
"C.7.2(0026)\0"
"C.7.3(0024)\0"
"0.2.0(K76 - 0 - 9)\0"
"C.5.0(0004E0F0)\0"
"C.90.1(0000000030863358)\0"
"!\0";

#include <iostream>
void get_all_values(char* p_buf);

int main()
{
    std::cout << "Start of test\n";
    get_all_values(test_buf2);
    data_print();
}
